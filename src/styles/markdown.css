/* Vertical spacing for AI-generated custom DIVs */
.markdown-content > div {
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
}
.markdown-content > div:first-child { margin-top: 0; }
.markdown-content > div:last-child { margin-bottom: 0; }

/* Bubble style for AI-generated HTML */
.bubble {
  display: inline-block;
  background: #4f46e5; /* indigo-600 */
  color: #ffffff;
  border-radius: 18px;
  padding: 10px 16px;
  margin: 6px 0;
  max-width: 85%;
  line-height: 1.4;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  word-break: break-word;
}
.dark .bubble {
  background: #3730a3; /* indigo-800 */
}

/* Custom Blockquote styles */
.custom-blockquote {
  position: relative;
  padding-left: 2.5rem; /* Space for the quote mark */
}

.custom-blockquote::before {
  content: 'â€œ';
  position: absolute;
  left: 0rem;
  top: 0rem;
  font-size: 3rem;
  font-family: Georgia, serif;
  color: #d8b4fe; /* purple-300 */
  line-height: 1;
}

.dark .custom-blockquote::before {
  color: #14b8a6; /* teal-500 */
}

/* Ensure paragraphs inside the blockquote don't add extra margins */
.custom-blockquote p {
  margin-bottom: 0 !important;
}
.custom-blockquote p:not(:last-child) {
  margin-bottom: 1rem !important; /* Space between paragraphs inside a quote */
}

/* Compact version for workflow view */
.custom-blockquote-workflow {
  padding-left: 2rem;
}
.custom-blockquote-workflow::before {
  left: 0.25rem;
  top: -0.1rem;
  font-size: 2rem;
}

/* KaTeX Math Formula Styling */
.katex {
  font-size: 1.1em !important;
  padding: 0.1em 0.3em;
  margin: 0 0.15em;
  border-radius: 0.25rem;
  background-color: #f1f5f9; /* slate-100 */
  color: #334155; /* slate-700 */
}
.dark .katex {
  background-color: #334155; /* slate-700 */
  color: #e2e8f0; /* slate-200 */
}

.katex-display {
  display: block;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 1em;
  margin: 1em 0;
  border-radius: 0.5rem;
  background-color: #f8fafc; /* slate-50 */
  border: 1px solid #e2e8f0; /* slate-200 */
}
.dark .katex-display {
  background-color: #1e293b; /* slate-800 */
  border-color: #334155; /* slate-700 */
}

/* Ensure KaTeX display equations don't have extra margin from surrounding <p> tags */
.markdown-content p > .katex-display {
    margin-top: 0;
    margin-bottom: 0;
}

/* Styles for bullet points inside the new thinking workflow */
.workflow-markdown ul {
    list-style-type: disc;
    padding-left: 1.25rem;
}

.workflow-markdown li {
    margin-bottom: 0.25rem;
}